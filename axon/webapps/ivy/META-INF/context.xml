<?xml version="1.0" encoding="UTF-8"?>
<!--
  Please keep the context.xml file on the designer and engine synchronous
  to have the same settings on designer and engine
  because this file is not deployed from the designer to the engine

  See apache tomcat documentation for more information about context configuration:
  http://tomcat.apache.org/tomcat-7.0-doc/config/context.html
-->
<Context antiResourceLocking="false" privileged="true" >
  <!--
    See apache tomcat documentation for more information about:
    - Valve configuration:
      http://tomcat.apache.org/tomcat-7.0-doc/config/valve.html
      
    - Realm configuration:
      http://tomcat.apache.org/tomcat-7.0-doc/config/realm.html
  -->

  <!--
    Remove the comment markers from around the Valve below to limit access to
    the ivy application to clients connecting from localhost
  -->
  <!--
  <Valve className="org.apache.catalina.valves.RemoteAddrValve"
         allow="127\.\d+\.\d+\.\d+|::1|0:0:0:0:0:0:0:1" />
  -->

  <!--
    Remove the comment markers from around the Valve below to log access to
    the ivy application to the logs directory
  -->
  <!--
  <Valve className="org.apache.catalina.valves.AccessLogValve" directory="logs"
         prefix="access_log." suffix=".txt"
         pattern="%h %l %u %t &quot;%r&quot; %s %b" />
  -->
  
    
  <!--
    !! Only use this Valve if you exclusively access Axon.ivy over the WebApplication Firewall. !! 
    !! Otherwise this will be a security hole                                                   !!                     

    Remove the comment markers from around the Valve below to enable single sign on of the user given in 
    a request header field.  The name of the request header field can be configured in the attribute userNameHeader.
    
    This Valve is useful if Axon.ivy is protected by a WebApplication Firewall (WAF) with an integrated 
    Identity and Access Management (IAM). Those systems will authenticate and authorize users. 
    The identified user is then sent from the WAF to Axon.ivy using a HTTP request header.

    WebBrowser ==> WAF ==> Axon.ivy
                     
                    ^          |
                    |          |
                    v          v	

                   IAM ==> Active Directory
   -->
  <!-- 
  <Valve className="ch.ivyteam.ivy.webserver.security.SingleSignOnValve" userNameHeader="user"/>
   -->
  
  <!--
    Remove the comment markers from around the Valve below to enable logging of entry and exit of each request to the Logger 
    ch.ivyteam.ivy.webserver.internal.PerformanceLogValve on Level DEBUG. The exit log entry contains the execution time 
    of the request in microseconds
   -->
  <!--  
	<Valve className="ch.ivyteam.ivy.webserver.internal.PerformanceLogValve"/>
	 -->
</Context>
