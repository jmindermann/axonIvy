<!DOCTYPE html>
<html>
	<head>
	  <meta charset="utf-8">
	  <meta content="IE=edge" http-equiv="X-UA-Compatible">
	  <meta content="width=device-width, initial-scale=1" name="viewport">
	  <title>New and Noteworthy Axon.ivy Designer Jakobshorn</title>
	  <link rel="shortcut icon" href="../shared/images/ivy_favicon_48.png" />
	  <link href="../shared/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	  <link href="../shared/css/docs.min.css" rel="stylesheet" type="text/css">
	  <link href="../shared/css/ivy-common-6.css" rel="stylesheet" type="text/css">
	  <link href="../shared/css/ivy-designer-doc.css" rel="stylesheet" type="text/css">
	  <link href="../shared/css/highlight-modified.min.css" rel="stylesheet" type="text/css">
	  <script src="../shared/js/jquery.min.js"></script>
	  <script src="../shared/js/bootstrap.min.js"></script>
	  <script src="../shared/js/highlight.min.js"></script>
	  <script>hljs.initHighlightingOnLoad();</script>
	  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	  <!--[if lt IE 9]>
	    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	  <![endif]-->
	</head>

  <body>

    <div id="mainContent">

      <!-- start-top-navigation -->
      <div class="navbar navbar-top" role="navigation">
        <div class="container" id="headerdiv">
          <div class="navbar-header">
            <a class="ivy-logo" href="http://developer.axonivy.com">
              <img src="../shared/images/axon_ivy_logo.png" alt="Axon.ivy" />
            </a>
          </div>

          <div class="navbar">
            <ul class="nav nav-pills" id="navbar-ivy-links">
              <li><a href="http://developer.axonivy.com/download/" target="blank"><span class="glyphicon glyphicon-download" aria-hidden="true"></span><br>Download</a></li>
              <li><a href="http://developer.axonivy.com/doc/" target="blank"><span class="glyphicon glyphicon-book" aria-hidden="true"></span><br>Documentation</a></li>
              <li><a href="http://answers.axonivy.com" target="blank"><span class="glyphicon glyphicon-user" aria-hidden="true"></span><br>Q &amp; A</a></li>
              <li><a href="http://www.ivyteam.ch/flatpress/?paged=1" target="blank"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span><br>Blog</a></li>
            </ul>
          </div>

        </div><!-- /.container -->
      </div>
      <div class="navbar ivy-subnav">
        <div class="navbar-inner">
          <div class="container">
            <div class="row">
              <ul class="nav nav-pills">
                <li class="active"><a href="NewAndNoteworthyDesigner.html">N&amp;N Designer</a></li>
                <li><a href="NewAndNoteworthyEngine.html">N&amp;N Engine</a></li>
                <li><a href="../../ReleaseNotes.txt">Release Notes</a></li>
                <li><a href="../../MigrationNotes.html">Migration Notes</a></li>
                <li><a href="../../ReadMe.html">Read Me</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- end-top-navigation -->

    <div class="container">
      <h1 class="page-header">New and Noteworthy for Axon.ivy Designer 7.0 (Jakobshorn)</h1>

      <p class="lead">This document describes all new and noteworthy features of the Axon.ivy
        <em>Designer 7.0 (Jakobshorn)</em> release.</p>

      <p>Only a brief overview of important new features is provided here. It is
  recommended that you consult the respective sections of the updated <span style="font-style: italic;">Designer Guide</span> (<em>via <em>Help &gt; Help
  Contents &gt; Axon.ivy Designer Guide</em>) if you desire more detailed information about individual new features. <span style="font-style: italic;"></span></em></p>

      <p>If you are interested in features introduced in the previous releases have a look at <a href="NewAndNoteworthyDesigner6.0.html">Axon.ivy Designer 6.0 New and Noteworthy</a></p>

      <p>The content of this file has been grouped into different sections with related content:</p>
      <ul>
        <li><a href="#acm">Adaptive Case Management</a>
          <ul>
            <li><a href="#signals">Signals</a></li>
            <li><a href="#businessCase">Business Case</a></li>
            <li><a href="#casemap">Case Map</a></li>
          </ul>
        </li>
        <li><a href="#businessdata">Business Data Store</a></li>
        <li><a href="#rest">REST Web-Services</a></li>
        <li><a href="#ruleengine">Rule Engine</a> </li>
        <li><a href="#htmlDialog">Html Dialog</a></li>
        <li><a href="#htmlDialogEditor">Html Dialog Editor</a></li>
        <li><a href="#category">Task and Case Categorization</a> </li>
        <li><a href="#security">Security</a></li>
        <li><a href="#ci">Continuous Integration</a></li>
        <li><a href="#mobileApp">Mobile App - Geo Location</a></li>
        <li><a href="#api">Public API</a></li>
        <li><a href="#libraryUpdates">Library Updates</a></li>
        <li><a href="#misc">Miscellaneous</a></li>
      </ul>

      <div class="bs-callout bs-callout-info">
        <h4>MIGRATION OF 6.0 PROJECTS</h4>
        <p>6.0 projects (and older) need to be converted for Axon.ivy 7.0!</p>
        <p>See the separate <a href="../migrationNotes/MigrationNotesDesigner.html">Migration Notes</a> to learn about what needs to be done to get your projects running with Axon.ivy 7.0 (Jakobshorn).</p>
      </div>

      <h1 class="page-header">Selected Features</h1>

      <h2><a id="acm"></a>Adaptive Case Management</h2>
      <p>Axon.ivy supports you to build agile workflows. The times of strictly defined BPM processes are over. <br><br>Today the user often has the need to adapt the process flow during execution. Optional side tasks are required in addition to the normal process flow or a set of tasks must be skipped because of a special condition. Signals bring the power back to the user which has often more know-how about the domain and the current context of the process. The workflow history  and context of a task is still clear   trough  the introduction of
      <a href="#businessCase">Business Cases</a>.</p>
      <p>Processes using Signals and Business Cases are demonstrated in the new  <i><a href="#workflowDemos">WorkflowDemos</a></i> project.
         And an introduction plus use cases for Adaptive Case Management can be found in the Designer Guide: See <i>Help > Designer Guide > Concepts > Adaptive Case Management</i></p>
      
      <hr />
    
      <h3><a id="signals"></a>Signals</h3>
      <div class="row">
        <div class="col-md-10">
          <p>Signals make the loose coupling of processes possible. Signals are sent application-wide without the need for project dependency between the sender and receiver.</p>
        </div>
      </div>
      
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Signal Boundary Event</h4></div>
        <div class="col-md-10">
          <p>
          The Signal Boundary Event allows you to destroy a User task by a signal.
          </p>
          <p><img src="images/61_SignalBoundary.png"/></p>
          <p>See <i>Help > Designer Guide > Process Modeling > Process Elements Reference > Signal Boundary Event</i> for more information. </p>
        </div>
      </div>
    
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Signal Start Event</h4></div>
        <div class="col-md-10">
          <p>
        With the Signal Start Event you can start a process by sending a signal.
          </p>
          <p><img src="images/61_SignalStart.png"/></p>
          <p>See <i>Help > Designer Guide > Process Modeling > Process Elements Reference > Signal Start</i> for more information. </p>
        </div>
      </div>
    
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>API for sending Signals</h4></div>
        <div class="col-md-10">
          <p>Signals can be sent via API:</p>
          <p>Example: Send signal <i>"user:created"</i>:</p>
          <pre><code class="java">ivy.wf.signals().send("user:created");</code></pre>
          <p>See <i>Help > Designer Guide > Concepts > Signals > Sending Signals</i> for more information about sending signals.</p>
        </div>
      </div>
    
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Signal receivers and history API</h4></div>
        <div class="col-md-10">
          <p>
          With the <b>receiver's</b> API active signal receivers can be queried.</p>
          <p>Example: Query all Signal Start Events that listen to the signal code <i>"user:created"</i>:</p>
          <pre><code class="java">import ch.ivyteam.ivy.workflow.signal.IStartSignalEventElement;
List&lt;IStartSignalEventElement&gt; signalStarts = ivy.wf.signals().<b>receivers()</b>
    .createStartSignalQuery()
    .where().signalCodePattern().isEqual("user:created")
    .executor().results();</code></pre>
          <p>
          With the <b>history</b> API sent signals can be queried.</p>
          <p>Example: Query sent signals, whose signal code starts with <i>"admin:quit:"</i>:</p>
          <pre><code class="java">import ch.ivyteam.ivy.workflow.signal.ISignalEvent;
List&lt;ISignalEvent&gt; signalEvents = ivy.wf.signals().<b>history()</b>
    .createSignalEventQuery()
    .where().signalCode().isLike("admin:quit:%")
    .executor().results();</code></pre>
          <p>See Public API <code>ch.ivyteam.ivy.workflow.signal.IBpmSignalService</code> for more information.</p>
        </div>
      </div>
    
      <hr />
      
      <h3><a id="businessCase"></a>Business Case </h3>
      <div class="row">
        <div class="col-md-10">
          <p>The execution of adaptive cases can vary in every execution. Therefore, the workflow user needs a clear context and history for a task on which he is involved. </p>
          <p>The entity that can glue multiple process cases together is the Business Case. All cases and tasks that belong to the same Business Case are presented to the user of a workflow screen as related cases. </p>
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Attach to Business Case </h4> </div>
        <div class="col-md-10">
          <p>Every Signal Start event and triggerable Request Start can configure whether its cases should run in the context of the invoking Business Case or if they represent a completely new Case.</p>
          <img src="images/65_attachToSignaledCaseInscription.png"/>
          <p>You can also  use the Public API to attach the current case to an existing Business Case. </p>
          <pre><code class="java">if (in.departement.equals("HR")){
  ivy.case.attachToBusinessCase(in.callerCaseId)
}</code></pre>
        </div>
      </div>
    
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Business Case API</h4> </div>
        <div class="col-md-10">
          <p>For workflow front end developers there exists API to list all tasks or cases of a Business Case. So, showing the involved cases and tasks to a workflow user is a simple implementation. For more details see the Public API of ch.ivyteam.ivy.workflow.businesscase.IBusinessCase.</p>
          <pre><code class="java">ivy.case.getBusinessCase().getActiveTasks(); // get involved tasks that are active
ivy.case.getBusinessCase().getTasks(); // get all involved tasks</code></pre>
        </div>
      </div>
    
      <hr />

      <h3 id="casemap">Case Map</h3>
      <p>
        In adaptive case management the loose coupling between the
        processes, which you can achieve easily with the concept of <a href="#signals">Signals</a>,
        is cursing and blessing at the same time. The processes become highly flexible but
        the big picture of the hole business process from a business point of view get lost.
      </p>
      <p>
        At this point the case map comes into play. A case map defines how the business
        process looks like in terms of stages, processes and side steps. A
        business process is divided into stages. Each stage defines a certain phase in
        the lifecycle of a business process. A business process is started with the first stage in the case map.
        The processes in a stage are executed from top to bottom.
        The execution of a process is conditional and control with a precondition.
        If the last process of a stage is executed then the stage is finished and the next stage gets started.
        A business process is finished if the last stage has been executed. However, a business process can jump from
        stage to stage in any order by setting the stage attribute of a business case.
      </p>

      <hr />

      <div class="row">
        <div class="col-md-2">
          <h4>New Case Map Wizard</h4>
        </div>
        <div class="col-md-10">
          <p>To create a new case map, you can use the New Case Map Wizard.</p>
          <img src="images/66_CaseMapWizard.png">
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2">
          <h4>Case Maps in the IvyProject tree</h4>
        </div>
        <div class="col-md-10">
          <p>Case Maps are displayed in the IvyProject tree. Double click on them will open the Case Map editor.</p>
          <img src="images/66_CaseMapNode.png">
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2">
          <h4>Case Map Editor</h4>
        </div>
        <div class="col-md-10">
          <p>To create and edit Case Maps you can use the Case Map Editor.</p>
          <img src="images/66_CaseMapEditor.png">
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2">
          <h4>Designer Workflow UI support for Case Maps</h4>
        </div>
        <div class="col-md-10">
          <p>A case map can be started from the engine start page.</p>
          <img src="images/66_CaseMapStart.png">
          <p>The case map associated with a business case is displayed in the business case details.</p>
          <img src="images/66_CaseMapDetails.png">
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2">
          <h4>Animation / Simulation of Case Maps</h4>
        </div>
        <div class="col-md-10">
          <p>
            You can follow the execution of a Case Map in the Case Map Editor. It uses the simulation settings known from the BPM processes.
          </p>
          <img src="images/66_CaseMapAnimation.png">
        </div>
      </div>
      
      <hr />
      
      <h2><a id="businessdata"></a>Business Data Store</h2>
      <p>The Business Data feature allows to store and load business data in a built-in repository without defining a schema.
      Compared to other ivy persistence features like database steps and JPA no additional database, database connection, schema or tables are needed.</p>
      <p>The business data structure is defined by declaring normal data classes or Java classes. When storing a business data object all objects that are referenced from the root object are stored as well.
      Loading a business data object will recreate the whole object structure again.

      The data is stored in a schema less JSON based data format in the ivy standard System database. This allows to add fields to data classes over time and still be able to load old business data without migration.</p>

      <p>The business data feature also allows to search the stored data by defining field based filters.</p>
      <p>See <i>Help > Designer Guide > Data Modeling > Business Data Store</i></p>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Store</h4></div>
        <div class="col-md-10">
          <p>Normal data classes and Java objects can be stored without defining a database schema!</p>
          Create and save:
          <pre><code class="java">Dossier dossier = ...
in.businessDataId = ivy.repo.<b>save</b>(dossier).getId();</code></pre>
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Load</h4></div>
        <div class="col-md-10">
          <p>Load a business data object from the repository to modify it. </p>
          Load, modify and save:
          <pre><code class="java">Dossier storedDossier = ivy.repo.<b>find</b>(in.businessDataId, Dossier.class);
storedDossier.getPerson().setFirstName("Marco");
ivy.repo.save(storedDossier);</code></pre>
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Search</h4></div>
        <div class="col-md-10">
          <p>There is a new fluent API to search stored business data. The API supports filtering, ordering and limiting of the results.</p>
          <p>Example: Search all dossiers that have a <code>person.firstName</code> starting with <code>A</code>, sort the dossiers by <code>person.lastName</code> and return the first 10 matching dossiers:</p>
          <pre><code class="java">List&lt;Dossier&gt; result = ivy.repo.search(Dossier.class)
    .textField("person.firstName").containsAllWordPatterns("A*")
    .orderBy().field("person.lastName").descending()
    .limit(10)
    .execute()
    .getAll();</code></pre>
          <p>Example: Search all dossiers that have a field containing one of the words <code>Alan</code>, <code>John</code> or <code>Wolfgang</code>:</p>
          <pre><code class="java">List&lt;Dossier&gt; result = ivy.repo.search(Dossier.class)
    .allFields().containsAnyWords("Alan John Wolfgang")
    .execute()
    .getAll();</code></pre>

        </div>
      </div>
      
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Store with own Id</h4></div>
        <div class="col-md-10">
          <p>Instead of using the auto generated id to identify a Business Data value, it is possible to set an own id. The Business Data class must contain a String field with name id and must be set before saving the Business Data value for the first time.</p>
          <pre><code class="java">Dossier dossier = ...
String yourId = ... // generate your own id, be sure it is unique!
dosser.id = yourId; // set your id to the Business Data value
ivy.repo.save(dossier);
...
ivy.repo.find(yourId, Dossier.class) // get your Business Data value </code></pre>
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Business Case Context</h4></div>
        <div class="col-md-10">
          <p>If you annotate a data class with <code>BusinessCaseContext</code> then the business data repository loads and saves objects of the data class attached to the current business case.</p>
          <img src="images/66_dataclasseditor.png">
          <pre><code class="java">// Gets the Dossier which is attached to your current business case.
// Either loads it from the repository or if it does not exist yet it creates a new object.
Dossier dossier = ivy.repo.get(Dossier.class);
...
ivy.repo.save(dossier); // save and attach the dossier to the current business case </code></pre>
        </div>
      </div>
      
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Fuzzy Search and Query String </h4></div>
        <div class="col-md-10">
          <p>Sometimes we don't know how a term like a name is correctly spelled, fuzzy search helps you with that by allowing you to search for incorrectly spelled names and still showing relevant entries.</p>
          <p>Example: Search all dossiers for <code>Meier</code>.</p>
          <pre><code class="java">List&lt;Dossier&gt; result = ivy.repo.search(Dossier.class)
    .textField("person.lastName")
    .containsAllWordsFuzzy("Meier")
    .execute()
    .getAll();</code></pre>
          <p>The result will also display entries containing <code>Maier</code> or <code>Meyer</code>.</p>
          <br/>
          <p>The possibility to make search queries that resemble queries performed on an internet search engine was introduced.</p>
          <p>Example: Search all fields of a Dossier that contain <code>Baldwin</code> with the edit distance (<a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/fuzziness.html">fuzziness</a>) of 1 and score documents higher that don't contain <code>Alec</code>.</p>
          <pre><code>List&lt;Dossier&gt; result = repo.search(Dossier.class)
    .score()
    .allTextFields()
    .query("Baldwin~1 -Alec")
    .execute()
    .getAll();</code></pre>
          <p>A list of possible operators that can be used inside the query can be found in the Elasticsearch documentation for <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html">Simple Query String</a>.
        </div>
      </div>
      
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Elasticsearch 5.5 </h4></div>
        <div class="col-md-10">
          <p>Elasticsearch which is used to index business data and provides the search functionality has been updated from 2.3.4 to 5.5.0.</p>
        </div>
      </div>
    
      <hr />

      <h2><a id="rest"></a>REST Web-Services</h2>
      <p>Ivy supports <a href="https://docs.oracle.com/javaee/7/api/javax/ws/rs/package-summary.html#package.description">JAX-RS</a>, the Java specification for RESTful web services. How to use and provide REST services is demonstrated in the new <i>ConnectivityDemos</i> project.
      </p>
      <p>The new chapter <i>3rd Party Integration</i> in the Designer Guide gives you an overview, which options you have to integrate ivy with foreign systems. <br/>
        See <i>Help > Designer Guide > 3rd Party Integration</i></p>
      
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>REST Client Process Element </h4></div>
        <div class="col-md-10">
          <p>There is a new process element called REST Client available. It can be used to call REST Services.</p>
          <img src="images/65_RestClient.png">
          <p>The element makes it simple to send dynamic process data to a remote REST service. Within the response tab you can easily consume the result and map it back to your process data.</p>
          <img src="images/66_restClient_requestTabGet.png">
          <p>The Rest Client element is always an excellent choice to model calls to a remote REST service.
          If you need to set a request option that is not configurable on the Inscription mask.
          You can switch to the JAX_RS mode which allows you to fine tune your request and use any
          logic that is available in the plain java client.</p>
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>REST Client Editor</h4></div>
        <div class="col-md-10">
          <p>There is a new entry in the ivy project tree called 'REST Clients'.</p>
          <img src="images/62_RestClientNode.png"/>
          <p>The corresponding REST Client Editor can be used to configure REST Clients.</p>
          <img src="images/62_RestClientEditor.png"/>
          <p>See <i>Help > Designer Guide > Configuration > REST Clients Configuration</i> for more information.</p>
        </div>
      </div>
   
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>REST call logging and monitoring </h4></div>
        <div class="col-md-10">
          <p>For each REST call the HTTP request and response is logged to the Runtime Log.</p>
          <img src="images/65_rest_runtime_log.png">
          <pre><code>&gt;&gt; POST http://127.0.0.1:8081/ivy/api/designer/persons/3
Content-Type: application/json
{"id":3,"firstname":"Reguel","lastname":"Wermelinger"}</code></pre>
          <pre><code>&lt;&lt; 200 OK
Content-Length: 0
Date: Thu, 12 Jan 2017 10:33:06 GMT
Server: -
Set-Cookie: JSESSIONID=40F782DE16B4E87A21D2946A05532F80; Path=/ivy/; HttpOnly</code></pre>
          <p>REST calls are now also monitored. See <a href="NewAndNoteworthyEngine.html#MonitoringRest">Engine New and Noteworthy</a> for details.
        </div>
      </div>
    
      <hr />
     
     <div class="row">
       <div class="col-md-2"><h4>Provide custom REST Resources</h4></div>
       <div class="col-md-10">
         <p>To provide custom REST services from an ivy project, <a href="https://jax-rs-spec.java.net/nonav/2.0-rev-a/apidocs/index.html">JAX-RS</a> annotations can be used.
         A Java class that uses the corresponding annotations will be automatically detected and published as REST resource.
         </p>
         <pre><code class="java">@Path("{applicationName}/person")
public class CustomProjectResource {
    @GET
    @Produces(MediaType.APPLICATION_JSON)
    public Person get() {
        Person p = new Person();
        p.setFirstname("Renato");
        p.setLastname("Stalder");
        return p;
    }
}</code></pre>
        </div>
      </div>
    
      <hr />
  
      <div class="row">
        <div class="col-md-2">
          <h4>Fluent SubProcessCall API</h4>
        </div>
        <div class="col-md-10">
          There is a new fluent SubProcessCall API to select a
          CallSubStart call it and get the result (could be used in a REST provider):
          <pre><code class="java">String name = SubProcessCall
    .withPath("Functional Processes/Customer")
    .withParam("id", 27)
    .call()
    .get("name", String.class);</code></pre>
          <p>See Public API <code>ch.ivyteam.ivy.process.call.SubProcessCall</code> for more information.</p>
        </div>
      </div>
    
      <hr />

      <h2><a id="ruleengine"></a>Rule Engine</h2>
      
      <hr />
      
      <div class="row">
        <div class="col-md-2"><h4>Drools integration</h4></div>
        <div class="col-md-10">
          <p>
            The <a href="http://www.drools.org">Drools</a> Rule Engine is now integrated in Axon.ivy. With a rule engine you can decouple your business rules from your code so that you can develop and test them independently. See the quote from the corresponding <a href="http://martinfowler.com/bliki/RulesEngine.html">blog entry of Martin Fowler</a>:
          </p>
          <blockquote cite="http://martinfowler.com/bliki/RulesEngine.html">... is a set of production rules, each of which has a condition and an action - simplistically you can think of it as a bunch of if-then statements.
                The subtlety is that rules can be written in any order, the engine decides when to evaluate them using whatever order makes sense for it. A good way of thinking of it is that the system runs through all the rules, picks the ones for which the condition is true, and then evaluates the corresponding actions.
          </blockquote>
          <p>
            Just import the new demo project <i>RuleEngineDemos</i> to get a quick start into the world of rules in Axon.ivy.
          </p>
          <p>See <i>Help > Designer Guide > Concepts > Rule Engine</i> for more information.</p>
        </div>
      </div>
      
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Create Rule files</h4></div>
        <div class="col-md-10">
          <p>
            New rule files can be created from the <i>New</i> button in the toolbar or with the menu entry <i>File > New</i>. You can create either a rule file in DRL (Drools Rule Language) or as a decision table. Use the namespace to organize rules.
          </p>
          <img src="images/62_RuleEngine_NewWizard.png" width="50%" height="50%"/>
          <p>See <i>Help > Designer Guide > Concepts > Rule Engine</i> for more information.</p>
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Rule files in project tree</h4></div>
        <div class="col-md-10">
          <p>
            The Axon.ivy project root has a new root folder <i>Rules</i>. Below that folder you can see, access and manipulate all your rule files. Double click on a rule file to open it in its editor. The internal DRL editor will open for DRL files. Excel is opened for decision tables in an external window (or in other words, the application that is responsible for opening .xls/.xlsx files)
          </p>
          <img src="images/62_RuleEngine_IvyProjectTree.png"/>
          <p>See <i>Help > Designer Guide > Concepts > Rule Engine</i> for more information.</p>
        </div>
      </div>
      
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Execute rules</h4></div>
        <div class="col-md-10">
          <p>
            A Public API is provided to execute the rules. You have to create a rule base in which you load the rules. Then you pass an instance of a data class or Java class or a list thereof into a rule session and execute it. The results of the rules execution will be visible in the passed data or Java classes.
          </p>
          <pre><code class="java">in.ruleBase = ivy.rules.engine.createRuleBase();
in.ruleBase.loadRulesFromNamespace("rule.engine.demo.discount");
in.ruleBase.createSession().execute(out.myDataElement);</code></pre>
          <p>See Public API <code>ch.ivyteam.ivy.rule.engine.api</code> for more information.</p>
        </div>
      </div>
    
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Rule Resources</h4> </div>
        <div class="col-md-10">
          <p>
            Since version 6.5, an alternative for Ivy managed rules is provided. Thus, the developer can manage rules that are not located in the Ivy project.
            This may be an external file system, a database, a web service ...
         </p>
         <pre><code class="java">IRuleResource ruleFromDb = ... // Provide your own rule resource implementation here. E.g. a rule resource loaded from a db
ruleBase.loadRules(ruleFromDb);</code></pre>
         <p>See Public API <code>ch.ivyteam.ivy.rule.engine.api.resource.IRuleResource</code> for more information.</p>
       </div>
      </div>
    
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Hot rule replacement</h4></div>
        <div class="col-md-10">
          <p>
            If you change an existing rule file during the execution of an Axon.ivy project, then we unload the outdated version of the rule file and load the new changed version. You can continue testing/debugging and the changed/new rules are automatically applied.
          </p>
          <p>
            Be aware that this feature is not active on the Axon.ivy Engine.
          </p>
          <p>See <i>Help > Designer Guide > Concepts > Rule Engine</i> for more information.</p>
        </div>
      </div>
      
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Test rules</h4></div>
        <div class="col-md-10">
          <p>
            We support testing your rules too. Just write a plain normal unit test with JUnit. You only need to inherit from the class <code>AbstractRuleEngineTest</code> and you can access the rule engine like you do in production code. You can execute the tests in the Designer as usual. You can run them with our Maven plugin. No problem.
        </div>
      </div>
    
      <hr />

      <h2><a id="htmlDialog"></a>Html Dialog</h2>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Start last executed process</h4> </div>
        <div class="col-md-10">
          <p>It is now possible to start the last executed process on an error page when working with JSF (especially useful when working with Managed Beans).
           When the button is clicked the last process launch configuration is executed.</p>
          <img src="images/67_jsf_startlastprocess.png"/>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Auto Initialization Data Classes</h4></div>
        <div class="col-md-10">
          <p>Data Classes are now automatically initialized if an Html Dialog sets a property on it.<br />
        E.g. If <code>data.address</code> is <code>null</code> and a form is submitted with a value for <code>data.address.street</code>, then a <code>data.address</code> object is automatically created.</p>
          <p>This means no more problems with not initialized complex data structures in Html Dialogs (javax.el.PropertyNotFoundException: Target Unreachable).</p>
          <p>See also Public API <code>ch.ivyteam.ivy.scripting.objects.jsf.el.AutoInitializable</code>.</p>
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2">
          <h4 id="exception-handling-jsf">Exception Handling</h4>
        </div>
        <div class="col-md-10">
          <p>
              Ajax exception handlers can catch exceptions which occur in ajax based HTTP requests.
              By default, there are ajax exception handlers predefined in <code>webContent/layouts/includes/exception.xhtml</code> and used in standard layouts.
              Especially expired session or view exceptions can be treated correctly now.
         </p>

         <pre><code class="xml">&lt;p:ajaxExceptionHandler
  type="javax.faces.application.ViewExpiredException"
  update="viewExpiredExceptionDialog"
  onexception="PF('viewExpiredExceptionDialog').show();"/>

&lt;p:dialog id="viewExpiredExceptionDialog" header="View or Session Expired" widgetVar="viewExpiredExceptionDialog" height="50px">
  &lt;h:outputText value="The view or session has expired."/>
  &lt;br/>
  &lt;h:outputLink value="#{ivy.html.loginRef()}">Please login again.&lt;/h:outputLink>
&lt;/p:dialog></code></pre>
          <p>
          See <i>Help > Designer Guide > User Dialogs > Html Dialogs > Error Handling</i> for more information.
          </p>
        </div>
      </div>

      <hr />

      <h2><a id="htmlDialogEditor"></a>Html Dialog Editor</h2>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Manipulate components </h4></div>
        <div class="col-md-10">
          <p>
            It is possible to select embedded components with a left mouse click as usual. Use the <i>DELETE</i> key to delete the selected component(s) or use <i>F3</i> to jump to the component. It is also possible to re-arrange the component in the view by drag and drop.
          </p>
        </div>
      </div>
  
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Configure components</h4></div>
        <div class="col-md-10">
          <p>
            You can now graphically configure the attributes and the start method of Ivy and JSF composite components directly in the editor. Double click on a component to open the default action for the component. In there you can choose which start method to use (only for Ivy components) and you can map all the attributes that are defined in the interface of the component.
          </p>
          <img src="images/62_HtmlDialogEditor_ComponentMapping.png"/>
          <p>See <i>Help > Designer Guide > User Interface > Html Dialogs > Html Dialog View Types</i> for more information about components.</p>
        </div>
      </div>
      
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Better Icon browser</h4></div>
        <div class="col-md-10">
          <p>
            The <a href="https://fortawesome.github.io/Font-Awesome/">Font Awesome</a> icons can now be selected from the Icon Browser as well. Furthermore, the icon is now magnified when you hover over it with the mouse and you have more options to filter your icons.
          </p>
          <img src="images/61_HtmlDialogEditor_FontAwesome.png"/>
          <p>Furthermore, you can now use the Icon Browser as well in the source editor. Use Quick Fix (<i>Ctrl</i> + 1), Code Completion (<i>Ctrl</i> + <i>Space</i>) or the linking feature with <i>F3</i> (or <i>Ctrl</i> and right mouse click) to invoke the Icon Browser when the caret is inside the icon property. Note, that you can navigate through the Icon browser with the keyboard.</p>
        </div>
      </div>
  
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>DnD JSF composite components</h4></div>
        <div class="col-md-10">
          <p>
            You can now Drag and Drop as well JSF composite components from the palette into a dialog.
          </p>
          <img src="images/61_HtmlDialogEditor_JsfCompositeComp.png"/>
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Facets</h4></div>
        <div class="col-md-10">
          <p>
            Facets are now rendered better and it is even possible to select and delete them. We too added drag and drop support for the facets so that you can insert elements from the palette into the facet of a table or panel grid (and more).
          </p>
        </div>
      </div>
  
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Smart buttons in property view</h4></div>
        <div class="col-md-10">
          <p>
            In the cell editors of the property view you can now use smart buttons to easily insert CMS content objects, a binding to a data class or a mapping to a logic element.
          </p>
          <img src="images/61_HtmlDialogEditor_SmartButtons.png" alt="Smart buttons in the properties view">
        </div>
      </div>
    
      <hr />

      <h2><a id="category"></a>Task and Case Categorization </h2>
      
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Case and Task Categories</h4></div>
        <div class="col-md-10">
          <p>A Case or a Task can be assigned to a Category. A category is a structured String (e.g. <code>Finance/Invoices/Payables</code>) and categorize them into a hierarchical structure.
        It is beside the name of a Task (or Case) an important identification attribute of a Case or Task.</p>
          <img src="images/65_CategorySimpleTaskTab.png">
        </div>
      </div>
    
      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Category API</h4></div>
        <div class="col-md-10">
          <p>There is a new category property for cases and tasks. A category is a structured String (e.g. <code>Finance/Invoices</code>) and categorize them into a hierarchical structure.
            The <code>Category</code> API allows to get localized information from the CMS.
            E.g. the <code>name</code> of the category <code>Finance/Invoices</code> is stored in the CMS at <code>/Categories/Finance/Invoices/name</code>.
          </p>
          <p>The following example shows a simple usage of a category on Case level. The API on Task level is identical.</p>
          <pre><code class="java">ivy.case.setCategoryPath("Finance/Invoices");

String categoryName = ivy.case.getCategory().getName(); // EN: "Invoices", DE: "Rechnungen"
String categoryPath = ivy.case.getCategory().getPath(); // EN: "Finance/Invoices", DE: "Finanzen/Rechnungen"</code></pre>
        </div>
      </div>

      <hr />
    
      <h2><a id="security"></a>Security</h2>
      
      <hr />
      
      <div class="row">
        <div class="col-md-2"><h4>HTTP Basic Authentication</h4></div>
        <div class="col-md-10">
          <p>Web Service processes can now be authenticated using HTTP Basic. Therefore, it is now possible to use a common authentication mechanism between Web Service calls and Web Service processes.</p>
          <img src="images/62_WebServiceProcessHttpBasic.png">
          <p>Since HTTP Basic sends the password in clear text over the wire we strongly suggest that you use HTTPS to secure the communication.</p>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Role Members</h4></div>
        <div class="col-md-10">
          <p>We have introduced the concept of Member Roles, which simplifies the configuration and administration of roles.</p>
          <p>
            In the configuration example below the role <i>First Level</i> has linked member roles <i>Team A</i> and <i>Team B</i>.
            While resolving the role tree these member roles
            are handled like child roles. So users of group <i>Team A</i> or <i>Team B</i> have the role <i>First Level</i> too.
          </p>
          <img src="images/62_RoleEditor.png">
          <p>See <i>Help > Designer Guide > Configuration > Roles and Users</i> for more information. </p>
        </div>
      </div>

      <hr />

      <h2><a id="ci"></a>Continuous Integration</h2>
      
      <hr />
     
      <div class="row">
        <div class="col-md-2"><h4>Axon.ivy CI Plugin</h4></div>
        <div class="col-md-10">
          <p>
            The  Maven <code><a href="http://axonivy.github.io/project-build-plugin/">project-build-plugin</a></code> for ivy projects is now able to <b>execute unit tests</b> with maven-surefire, <b>execute integration tests</b> with Selenium, <b>start &amp; stop the test engine</b> and to <b>deploy </b>projects to a running Axon.ivy Engine application.
          </p>For more information see:
          <ul>
            <li><a href="http://axonivy.github.io/project-build-plugin/">Plugin documentation</a></li>
            <li><a href="https://github.com/axonivy/project-build-examples/tree/6.1">Example projects</a></li>
          </ul>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>New project version format</h4></div>
        <div class="col-md-10">
          <p>
            Axon.ivy projects now have a new version format. It is now possible to specify a version with major, minor and incremental parts: <span style=" white-space: nowrap;">e.g. <code>1.2.3-SNAPSHOT</code></span>
          </p>
        </div>
      </div>
      <hr />

      <h2><a id="mobileApp"></a>Mobile App - Geo Location</h2>
    
      <hr />
      
      <div class="row">
        <div class="col-md-2"><h4>Location Service</h4></div>
        <div class="col-md-10">
          <p>The mobile app sends the current position of a mobile device to Axon.ivy.
             The information is then stored in location services that are available on the user that has worked with the mobile app and on tasks that have been worked on the mobile app.</p>
          <p>Get latest position of task:</p>
          <pre><code class="java">import ch.ivyteam.ivy.location.GeoPosition;
GeoPosition taskPosition = ivy.task.locations().search().findLatest().getPosition();</code></pre>
          <p>Get latest position of user:</p>
          <pre><code class="java">import ch.ivyteam.ivy.location.GeoPosition;
GeoPosition userPosition = ivy.session.getSessionUser().locations().search().findLatest().getPosition();</code></pre>
          <p>The location service can also be used to store additional locations:</p>
          <pre><code class="java">import ch.ivyteam.ivy.location.GeoPosition;
import ch.ivyteam.ivy.location.ILocation;
ivy.session.getSessionUser()
    .locations()
    .add(ILocation
        .create(GeoPosition.inDegrees(47.171573, 8.516835))
        .withType("User Home")
        .withNote("My Home is my Castle")
    );</code></pre>
          <p>See <i>Help > Designer Guide > Concepts > Offline Tasks > Geo Location</i> for more information. </p>
        </div>
      </div>

      <hr />

      <h2><a id="api"></a>Public API</h2>
    
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>API to get everything what is startable</h4></div>
        <div class="col-md-10">
          <p>
            There is a new API to get everything what is startable from an end user point of view.
            Based on the current session context you will receive all available process starts and additionally all case map starts.
          </p>
          <pre><code class="java">import ch.ivyteam.ivy.workflow.start.IWebStartable;
for (IWebStartable startable : ivy.session.getStartables()) {
  startable.getName();
  startable.getDescription();
  startable.getLink(); // New WebLink value object
  startable.getActivator(); // ISecurityMember
}</code></pre>
          <p>
            Noteworthy is the new <code>WebLink</code> value object. It provides simple methods to build a link for the web.
          </p>
          <pre><code class="java">import ch.ivyteam.ivy.model.value.WebLink;
WebLink link = new WebLink("https://www.google.ch/search?q=grüezi&amp;ie=UTF-8");
link.getRelative(); // /search?q=grüezi&amp;ie=UTF-8
link.getRelativeEncoded(); // /search?q=gr%C3%BCezi&amp;ie=UTF-8
link.getAbsolute(); // https://www.google.ch/search?q=grüezi&amp;ie=UTF-8
link.getAbsoluteEncoded(); // https://www.google.ch/search?q=gr%C3%BCezi&amp;ie=UTF-8</code></pre>

        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Case insensitive methods in query API</h4></div>
        <div class="col-md-10">
          <p>
            There are new methods (<code>isEqualIgnoreCase</code>, <code>isNotEqualIgnoreCase</code>, <code>isLikeIgnoreCase</code>, <code>isNotLikeIgnoreCase</code>) on the query API (<code>TaskQuery</code>, <code>CaseQuery</code>, etc) which allow to filter data case insensitive.
          </p>
          <pre><code class="java">import ch.ivyteam.ivy.workflow.query.TaskQuery;
import ch.ivyteam.ivy.workflow.ITask;

List&lt;ITask&gt; tasks = TaskQuery.create().where().name().isLikeIgnoreCase("%customer%").executor().results();
</code></pre>
          <p>This will find all tasks that contain <code>customer</code>, <code>CUSTOMER</code> or <code>CustoMer</code>, etc. in the task name.</p>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2">
          <h4 id="html-dialog-login-ref-api">API to get login page url</h4>
        </div>
        <div class="col-md-10">
          <p>
            <code>ivy.html.loginRef()</code> returns the url to the login page. Users can use the login page to authenticate. Consult the engine guide to learn how to customize the login page for your application.
          </p>
        </div>
      </div>

      <hr />

      <h2><a id="libraryUpdates"></a>Library Updates</h2>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Tomcat 8.5</h4></div>
        <div class="col-md-10">
          The Tomcat Webserver of the Axon.ivy Engine has been updated to version 8.5. This updated version of Tomcat implements the Servlet 3.1 specification.
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>PrimeFaces 6.1</h4></div>
        <div class="col-md-10">
          <p>PrimeFaces, the component library for Html Dialogs, has been updated from version 5.3 to 6.1. This enables you to use new themes and widgets.</p>
          <p>See the <a href="../migrationNotes/MigrationNotesDesigner.html#primefaces61">Migration Notes</a> for a list of known migration issues.</p>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>JPA 2.1</h4></div>
        <div class="col-md-10">
          <p>The Java Persistence API (JPA) has been upgraded to 2.1. The JPA implementation Hibernate has been upgraded to 4.3.11.</p>
        </div>
      </div>

      <hr />

      <h2><a id="misc"></a>Miscellaneous</h2>
  
      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4 id="workflowDemos">Workflow demos</h4></div>
        <div class="col-md-10">
          <p>There is a new demo project delivered with the designer which shows some basic workflow control concepts as well as some advanced ones:</p>
          <ul>
            <li>Self Service BPM example (known from the Portal)</li>
            <li>Human Task Assignment examples (parallel/sequential task assignment, user tasks)</li>
            <li>Signal examples</li>
            <li>Trigger example</li>
          </ul>
          <p>The project can be found in the applications/samples directory of the Designer.</p>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Easy import of Axon.ivy sample projects</h4></div>
        <div class="col-md-10">
          <p>The new <b>Samples</b> icon on the welcome screen makes it easy to import the Axon.ivy sample projects.</p>
          <img src="images/64_ImportSampleProjects.png"/>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Drag and Drop</h4></div>
        <div class="col-md-10">
          <p>You can drag and drop ivy archive files (*.iar) to the Ivy Project View.
          The dropped ivy archive files are then automatically imported to the workspace.</p>
          <img src="images/61_DnD_ProjectView.png"/>
          <p>You can also drag and drop any other file to the Ivy Project View to easily copy or move the file into a project.</p>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Development Mail SMTP</h4></div>
        <div class="col-md-10">
          <p>The Designer contains now a simple SMTP server. With the default E-Mail preferences, 
            all mails generated from a Mail-Activity will be sent to this SMTP. 
            You can easily view and inspect any of these mails in the 'Email Messages' view. 
            So, it's no longer necessary to configure an external SMTP to develop your processes.</p>
          <img src="images/66_mailSnagView.png"/>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>New Web-Service Call Options </h4></div>
        <div class="col-md-10">
          <p>There are two new options to control how Web-Service request parameters are mapped.</p>
          <img src="images/63_WebServiceOptions.png"/>
          <p>See <i>Help > Designer Guide > Process Modeling > Process Elements Reference > Web Service Call Step</i> for more information. </p>
        </div>
      </div>

      <hr />
    
      <div class="row">
        <div class="col-md-2"><h4>Customized Web-Service Process Endpoints</h4> </div>
        <div class="col-md-10">
          <p>It's now possible to adapt the auto-generated Web-Service Java file manually, i.e. to add JAX-WS annotations. This is useful in exceptional use cases,
          when the auto-generated configuration does not fit.</p>
          <p>See <i>Help > Designer Guide > Process Modeling > Process Elements Reference > Web Service Start Element > Customization</i> for more information. </p>
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Automatic Engine Start</h4> </div>
        <div class="col-md-10">
          <p>It is now possible to deactivate the automatic start of all process engines on Designer start.</p>
          <img src="images/65_DeactivateAutoEngineStart.png"/>
        </div>
      </div>

      <hr />


      <div class="row">
        <div class="col-md-2"><h4 id="deprecation-preference-page">Deprecation Preferences</h4></div>
        <div class="col-md-10">
          <p>There is a new preference page to control the visibility of deprecated features.</p>
          <img src="images/70_preference-page-deprecation.png" />
        </div>
      </div>

      <hr />

      <div class="row">
        <div class="col-md-2"><h4>Java Annotations on data classes and fields</h4></div>
        <div class="col-md-10">
          <p>Basic support for Java Annotations in data classes and fields has been added. You can now configure Java Annotations in the *.ivyclass file of a data class using a text editor.</p>
          <pre><code>Data #class
java.lang.Deprecated #classAnnotation
ch.ivyteam.demo #namespace
name String #field
name PERSISTENT #fieldModifier
name 'javax.validation.constraints.NotNull(message="Must not be null")' #fieldAnnotation</code></pre>
        <p>The generated java source looks like this:</p>
        <pre><code class="java">@java.lang.Deprecated
public class Data extends ch.ivyteam.ivy.scripting.objects.CompositeObject
{
  @javax.validation.constraints.NotNull(message="Must not be null")
  private java.lang.String name;</code></pre>
        </div>
      </div>

      <hr />
      <div class="row">
        <div class="col-md-2"><h4>Axon.ivy Extensions</h4> </div>
        <div class="col-md-10">
          <p>The extension mechanism of the Axon.ivy Designer and the Engine is now the same since they both run in OSGi mode:</p>
          <ul>
            <li>The installation of extensions like the <a href="https://github.com/ivy-supplements/birt-reporting">BIRT process elements</a> is now streamlined. Simply copy your JAR to <code>dropins</code> and it will be available at runtime. The <code>plugins</code> directory should only be used for automatically installed plugins.<br/>
              <img src="images/67_libDropins.png"/>
            </li>
            <li>Like in the Axon.ivy Designer the Engine now also supports the Eclipse extension point mechanism.
              <br>Therefore, extensions can be registered in the plugin.xml that is in your Axon.ivy extension bundle (*.jar file). 
            </li>
          </ul>
          <p>See <i>Help > Designer Guide > Concepts > Extensions</i> for more information. </p>
        </div>
      </div>

      <hr />

    </div>
    </div>
  </body>
</html>
