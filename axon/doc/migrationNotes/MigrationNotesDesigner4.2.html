<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=iso-8859-1" http-equiv="content-type">
  <title>Migration Notes Designer</title>
  <style type="text/css">
table.sample {
border-width: 1px 1px 1px 1px;
border-spacing: 2px;
border-style: outset outset outset outset;
border-color: gray gray gray gray;
border-collapse: collapse;
background-color: white;
}
table.sample th {
border-width: 1px 1px 1px 1px;
padding: 1px 1px 1px 1px;
border-style: inset inset inset inset;
border-color: gray gray gray gray;
background-color: white;
-moz-border-radius: 0px 0px 0px 0px;
}
table.sample td {
border-width: 1px 1px 1px 1px;
padding: 1px 1px 1px 1px;
border-style: inset inset inset inset;
border-color: gray gray gray gray;
background-color: white;
-moz-border-radius: 0px 0px 0px 0px;
}
  </style>
</head>

<body>

<table
style="border: 1px solid black; width: 1000px; text-align: left; margin-left: auto; margin-right: auto;"
border="0" cellpadding="10" cellspacing="0">
  <tbody>
    <tr
    style="font-family: Helvetica,Arial,sans-serif; color: rgb(255, 255, 255);">
      <td
      style="height: 183px; width: 1000px; text-align: right; vertical-align: top; background-image: url(images/xivy_header.png); padding-top: 10px; padding-right: 20px;"
      colspan="1" rowspan="1"><h2>Migration Notes for Xpert.ivy Designer 4.1.3
        - 4.2</h2>
      </td>
    </tr>
    <tr>
      <td style="padding-bottom: 20px; padding-top: 20px;">This document
        informs you in detail about<span
        style="font-weight: bold;">incompatibilities that were introduced
        between Xpert.ivy versions 4.1.3 and 4.2</span> and tells you what
        needs to be done to get your existing 4.1.3 projects working with
        Xpert.ivy 4.2.<br>
        <br>
        Most of the incompatibilities can be resolved automatically by <a
        href="ProjectConversion.html">project conversion</a> in the
        Designer.<br>
        <br>
        However,�some issues must be fixed manually afterwards. Those are
        described below.<br>
      </td>
    </tr>
    <tr>
      <td><h2><span style="background-color: rgb(51, 255, 51);"><span
        style="font-weight: bold; background-color: rgb(255, 255, 255);">Manual
        fixing of projects (after automatic conversion)</span></span></h2>
        <span style="background-color: rgb(51, 255, 51);"><span
        style="background-color: rgb(255, 255, 255);">You might have to
        manually adjust parts of your old projects that cannot be converted
        automatically. What you have to fix exactly, depends on the features
        that your project was making use of. <br>
        </span></span> 
        <ol>
          <li><a href="#The_ID_of_a_Display_can_only_be_set_once">Unique
            Display ID</a></li>
          <li><a href="#Define_a_call_signature_for_Start">Define a call
            signature for Start Request elements</a> (optional)</li>
          <li><a href="#New_RIA_Certificate">Accept new RIA certificate</a></li>
					<li><a href="#RDatePicker">RDatePicker Selection Change event behavior</a></li>
        </ol>
      </td>
    </tr>
    <tr>
      <td style="border-top: 1px solid black;"><h2><a
        name="The_ID_of_a_Display_can_only_be_set_once"></a><span
        style="background-color: rgb(51, 255, 51);"><span
        style="font-weight: bold; background-color: rgb(255, 255, 255);">The ID
        of a Display must only be set once</span></span></h2>
        Since 4.2 the repeated setting of a display ID provokes an error.
        Unfortunately this behavior was allowed beforehand and consequently
        lead to problems when loading/unloading Rich Dialogs into/from a
        display that had changed it's ID at runtime.<br>
        <br>
        You have to ensure that the method <br>
        <br>
        <span style="font-family: monospace;">public void setDisplayId(String
        displayId)</span><br>
        <br>
        is only called once per display instance. If you are setting display
        ID's inside RichDialog Logic, then you should ensure that<br>

        <ol>
          <li>this code is called only once (for example only in the start
            method,�never inside an event process or loop of some sort)</li>
          <li>the display ID is not set otherwise, e.g. in the properties of
            the RichDialog panel</li>
        </ol>
        To resolve this search for the string <span
        style="font-family: monospace;">"displayId"</span> inside all <span
        style="font-family: monospace;">*.mod</span> and <span
        style="font-family: monospace;">*.java</span> files inside your
        workspace. <br>
        <br>
        If you get more than one hit inside the same Rich Dialog (e.g. in <span
        style="font-style: italic;">MyRichDialogProcess.mod</span> and <span
        style="font-style: italic;">MyRichDialogPanel.java</span>) then you
        must reduce the code to one occurrence. This applies both to Java and
        IvyScript code.<br>
        <br>
        <img style="width: 561px; height: 427px;" alt=""
        src="images/displayId.png"><br>
        <br>
        <img style="width: 617px; height: 252px;" alt=""
        src="images/displayId_searchResults.png"><br>
        <small><span style="font-style: italic;">This Rich Dialog definitively
        needs some manual adjustment of it's code! Remove two of the three
        occurrences.</span></small><br>
        <br>
        <span style="background-color: rgb(51, 255, 51);"></span></td>
    </tr>
    <tr>
      <td><h2><a name="Define_a_call_signature_for_Start"></a>Define a call
        signature for Start Request elements</h2>
        In earlier Xpert.ivy versions (up to 4.1.3)�it was possible to pass
        process data to a request start as GET parameters of an *.ivp link.
        If��the GET parameter name matched the name of a process data field,
        then the parameter value was assigned to that field. e.g.:<br>
        <br>
        <span
        style="font-family: monospace;">.../order.ivp?article=20393&amp;color=red<br>
        <br>
        </span>was mapped to<span style="font-family: monospace;"><br>
        <br>
        </span><span style="font-family: monospace;">in.article =
        20393</span><br style="font-family: monospace;">
        <span style="font-family: monospace;">in.color = "red"</span><br>
        <br>
        This behaviour poses a potential security risk:�imagine that the
        process data also contains a field <span
        style="font-family: monospace;">in.price</span> which is normally
        assigned by the process after fetching the article details from the
        data base: nothing prevented a misuse where another GET parameter <span
        style="font-family: monospace;">&amp;price=0</span> was added by the
        client and�potentially resulting in a free purchase. Therefore
        unlimited parameter assignment has consequently been suppressed in
        Xpert.ivy 4.2.<br>
        <br>
        It is still possible to assign process parameters in this way, but from
        4.2 on, only to process data that was explicitly defined as being part
        of the request start's start signature (similar to Rich Dialog or Sub
        Process calls) can be auto-initialized from GET parameters of the
        request:<br>
        <br>
        <img style="width: 376px; height: 550px;" alt=""
        src="images/requestStart_new.png"><br>
        <br>
        If this request start is triggered with a link to <span
        style="font-family: monospace;">.../order.ivp?article=222&amp;color=green&amp;price=0</span>
        then only article and price parameters are assigned. <br>
        The <span style="font-family: monospace;">price</span> parameter is
        ignored.<br>
        <br>
        In order not to break old projects that made use of this feature,
        Xpert.ivy 4.2 still permits "unlimited assignment" to old request
        starts. I.e. if you use an old project with Xpert.ivy 4.2 and do not
        define a signature for your old request starts, then they will still
        behave as before (with the consequence, that <span
        style="font-family: monospace;">price</span> might be assigned
        maliciously).<span style="color: rgb(255, 0, 0);">It is strongly
        recommended, that you explicitly define a call signature for all of
        your old request starts.</span> Once you edit the signature and save it
        then the request start element only accepts the defined parameters for
        assignment (including none).<br>
        <br>
        In order to warn you about the described condition, the inscription
        mask of the unmigrated Request Start elements displays a warning when
        you open it:<br>
        <br>
        <img style="width: 640px; height: 271px;" alt=""
        src="images/requestStart_warning.png"><span
        style="background-color: rgb(51, 255, 51);"></span><br>
        <br>
        To get rid of this warning, you must edit the signature and save it,
        even if you want to disallow the passing of GET parameters
        completely.<br>

        <ol>
          <li>Add a random parameter to the signature</li>
          <li>Close the inscription mask with <span
            style="font-style: italic;">Ok</span> and open it again</li>
          <li>Remove the random parameter</li>
          <li>Save the inscription mask again</li>
        </ol>
        The invocation of this start is now <span
        style="font-style: italic;">safe</span>, i.e. no parameters can be
        assigned with GET parameters of the request (and the warning has
        disappeared). If you want to permit the assingment of specific
        parameters then you need to declare them in the signature, and map them
        to the process data explicitly. <br>
        <br>
        Note that this behavior also allows you to change the process data
        names, without breaking the calling interface: you can rename the
        process data field article to itemId and the invocation with <span
        style="font-family: monospace;">.../order.ivp?article=293</span> will
        still work, if you map the parameter with <span
        style="font-family: monospace;">in.itemId = param.article</span>.<br><br>
      </td>
    </tr>
    <tr>
      <td><h2><a name="New_RIA_Certificate"></a>New RIA Certificate</h2>
        Both <span style="font-style: italic;">Designer</span> and <span
        style="font-style: italic;">Server</span> have been equipped with a new
        certificate, which will be presented to end users when starting a Rich
        Application running on a 4.2 server for the first time:<br>
        <br>
        <img style="width: 516px; height: 318px;" alt=""
        src="images/newSorecoCertificate.png"><br>
        <br>
        Please inform your users, that they have to accept the above dialog (it
        is recommended to tick the check box to prevent this dialog from
        appearing again).<br><br></td>
    </tr>
		
    <tr>
      <td><h2><a name="RDatePicker"></a>RDatePicker <span style="font-style: italic;">Value Changed</span> event behavior</h2>
        The behavior of the <span style="font-style: italic;">Value Changed</span> event of the <span style="font-style: italic;">RDatePicker</span> widget has changed in 
				4.2. In a earlier Xpert.ivy versions the <span style="font-style: italic;">Value Changed</span> event was always fired when a date
				was selected, or when leaving the widget and the date has changed.<br>
				Now, the  <span style="font-style: italic;">Value Changed</span> event occurs like in a RTextField only when a user leaves the widget and the value has changed. 
				In Xpert.ivy 4.2 we have added the event <span style="font-style: italic;">Action</span>. The <span style="font-style: italic;">Action</span> event occurs
            whenever a user picks a date, or when he enters it into the text field manually and
            hits an Enter key or leaves the field.
				
				</td>
    </tr>
    <tr align="right">
      <td colspan="1"
      style="border-top: 1px solid black; background-color: rgb(0, 0, 50);"><small
        style="font-weight: bold;"><br>
        </small></td>
    </tr>
  </tbody>
</table>

<h1><span style="font-weight: bold;"><br>
</span></h1>
<span style="font-weight: bold;"><br>
</span><br>
</body>
</html>
