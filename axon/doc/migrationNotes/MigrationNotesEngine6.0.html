<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <title>Migration Notes Engine</title>
  <link rel="shortcut icon" href="../shared/images/ivy_favicon_48.png" />
  <link href="../shared/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="../shared/css/docs.min.css" rel="stylesheet" type="text/css">
  <link href="../shared/css/ivy-common-6.css" rel="stylesheet" type="text/css">
  <link href="../shared/css/ivy-designer-doc.css" rel="stylesheet" type="text/css">
  <script src="../shared/js/jquery.min.js"></script>
  <script src="../shared/js/bootstrap.min.js"></script>
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>

<div id="mainContent">

    <!-- start-top-navigation -->
		<div class="navbar navbar-top" role="navigation">
		  <div class="container" id="headerdiv">
			<div class="navbar-header">
			  <a class="ivy-logo" href="http://developer.axonivy.com">
                <img src="../shared/images/axon_ivy_logo.png" alt="Axon.ivy" />
              </a>
			</div>
			<div class="navbar">
			  <ul class="nav nav-pills" id="navbar-ivy-links">
				<li><a href="http://developer.axonivy.com/download/" target="blank"><span class="glyphicon glyphicon-download" aria-hidden="true"></span><br>Download</a></li>
				<li><a href="http://developer.axonivy.com/doc/" target="blank"><span class="glyphicon glyphicon-book" aria-hidden="true"></span><br>Documentation</a></li>
				<li><a href="http://answers.axonivy.com" target="blank"><span class="glyphicon glyphicon-user" aria-hidden="true"></span><br>Q &amp; A</a></li>
				<li><a href="http://www.ivyteam.ch/flatpress/?paged=1" target="blank"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span><br>Blog</a></li>
			  </ul>
			</div>
		  </div><!-- /.container -->
		</div>
    <div class="navbar ivy-subnav">
      <div class="navbar-inner">
        <div class="container">
          <div class="row">
            <ul class="nav nav-pills">
              <li><a href="../newAndNoteworthy/NewAndNoteworthyDesigner.html">N&amp;N Designer</a></li>
              <li><a href="../newAndNoteworthy/NewAndNoteworthyEngine.html">N&amp;N Engine</a></li>
              <li><a href="../../ReleaseNotes.txt">Realease Notes</a></li>
              <li class="active"><a href="../../MigrationNotes.html">Migration Notes</a></li>
              <li><a href="../../ReadMe.html">Read Me</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- end-top-navigation -->

<div class="container">
	<h1 class="page-header">Migration Notes for Axon.ivy Engine 6.0 (SÃ¤ntis)</h1>
	
	<p>This document informs you in detail <strong>how to migrate the data and
	projects of an existing Axon.ivy Engine 5.1 installation</strong> to a new Axon.ivy Engine 6.0
	installation. </p>

	<p>Table of Content:</p>
	<ul style="margin-bottom: 30px;">
	  <li><a href="#UpdatePrimeFaces">Updated to PrimeFaces 5.3</a></li>
	  <li><a href="#NewDefaultPrimefacesTheme">New default PrimeFaces theme</a></li>
	  <li><a href="#UpdateJava">Updated to Java 8</a></li>
	  <li><a href="#PublicApiChange">Public API change</a></li>
	  <li><a href="#Miscellaneous">Miscellaneous</a></li>
	</ul>

	<hr/>
	<h3><a id="UpdatePrimeFaces"></a>Updated to PrimeFaces 5.3</h3>
	
	<p>
	PrimeFaces and PrimeFaces extensions libraries have been updated to the newest versions.<br>
	See the <a href="../migrationNotes/MigrationNotesDesigner.html#UpdatePrimeFaces">Designer Migration Notes</a> for more information.
	</p>
	
	<hr/>
  <h3><a name="NewDefaultPrimefacesTheme"></a>New default PrimeFaces theme</h3>

  <p>The default PrimeFaces theme is now <strong>modena-ivy</strong> and now longer <strong>ivy</strong>.
  The new theme is required by the portal application.
  To use the ivy theme from 5.1 configure it in the <i>/webapps/ivy/WEB-INF/lib/web.xml</i>.
  If another theme than the default was defined in the <i>/webapps/ivy/WEB-INF/lib/web.xml</i> it will still be used and no change is needed.
  </p>
	
	<hr />
	
    <h3><a name="UpdateJava"></a>Updated to Java 8</h3>
	
	<p>
        Java 7 is out of support since April 2015. Therefore, we moved our whole development to Java 8 thus the new minimal version to run Rich Dialogs is now Java 8. Rich Dialogs will not run any more with older Java versions.
    </p>
		
	<hr />
    
<h3><a id="PublicApiChange"></a>Public API change</h3>
  <h5>Removed Method <code>IIvyScriptContext.getContext(IResponse response)</code></h5>
  <p>The <b>Java only</b> Public API method <code>IIvyScriptContext.getContext(IResponse response)</code> has been removed from the interface <code>IRequest</code>. Projects using this method will fail.
	If the IIvyScriptContext is still needed an <code>IRequest</code> could be upcasted to a <code>IProcessModelVersionRequest</code>. <code>Ivy.request()</code> already returned an <code>IProcessModelVersionRequest</code>.
	<p>
<hr>
  <h5>Changed behavior of <code>ISession.loginSessionUser(String username, String password)</code> and <code>ISession.logoutSessionUser()</code></h5>
  <section>
  <p>The Public API method to login or logout has changed. In past, both methods had reset all currently running tasks of the current session, even the current running one. Therefore the related methods
  <code>ISession.loginSessionUser(String username, String password, long currentTaskId)</code> or <code>ISession.logoutSessionUser(long currentTaskId)</code> had to be used instead commonly inside a process.<br/>
  With this version, the named method does no longer reset the currently running task. But it still resets other running tasks of the session. Conveniently some example IvyScript calls old vs. new:
  </p>
    <ul>
      <li><code>ivy.session.loginSessionUser("user", "pass", ivy.task.getId())</code> is now the same as <code>ivy.session.loginSessionUser("user", "pass")</code></li>
      <li><code>ivy.session.logoutSessionUser(ivy.task.getId())</code> is now the same as <code>ivy.session.logoutSessionUser()</code></li>
    </ul>
  </section>
	
	<hr/>
<h3><a id="Miscellaneous"></a>Miscellaneous</h3>
  <h4>New HTTP Status Codes</h4>
  <p>If a user tries to work on a task there are enhanced error messages with other HTTP status codes now.<br>
	See <a href="../newAndNoteworthy/NewAndNoteworthyEngine.html#StatusCodes">New and Noteworthy</a> for more details.
  </p>
<br/>
 <h4>Active Directory and Novell eDirectory groups (roles) are now cached in the System Database</h4>
 <section>
  <p>In order to improve performance of Active Directory and Novell eDirectory security system, the information which user owns which roles are now cached in the system database.
   They are only synchronized, when the user itself is synchronized. This happens in 
   following cases:
  </p>
  <ul>
  	<li>Automatically daily security synch</li>
  	<li>Manually triggered security synch</li>
  	<li>When the user logs in</li>
  </ul>
  <p>
  In the past, role membership has been looked up directly from Active Directory or Novell eDirectory, any time they were needed. 
  This caused a lot more requests to the Active Directory or Novel eDirectory server but made changes immediately visible to ivy.
  </p>
  <p>
  </section>
<br/>
  <h4>New Default Garbage Collection Settings</h4>
  <p>The default garbage collection settings were changed. The garbage collection pauses that occur every 10 minutes are much shorter now.<br> 
  See <i>Engine Guide > Configuration > GC Optimization</i> for more details.
  </p>
<br/>
  <h4>Portal Application</h4>
  <p>Axon.ivy Engine comes now with a default portal application. It will be set up automatically on first engine startup.<br/>
  To prevent automatic creation of the portal application, remove the folder &lt;server root&gt;/applications/Portal of your engine installation before startup.<br/>
  If you already have an application with the name 'Portal', the default portal application will not be deployed.<br/>
  Furthermore, the default portal application comes with some demo users. Change their passwords or delete them, before going into production.<br/>  
  </p>
<br/>
<br/><br/>
</div>
</div>
</body>
</html>
